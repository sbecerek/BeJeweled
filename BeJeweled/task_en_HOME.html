<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
</head>
<body>
	<h4>Windows API - home part</h4>
	<h2>BeWindowed 2020 a.k.a. Bejeweled in WinAPI</h2>
	<ul>
		<li><a href="BejeweledWinAPI_HOME.exe">Example application</a></li>
		<li>Task description:
			<ul>
			<li>Finish game implementation.</li>
			<li><h3><b>Attention:</b> Please use GDI in this part of task only for overlay window (particles) and painting windows background.
				All gems objects should still be WinAPI <u>windows</u>.</h3></li>
			</ul>
		</li>
		<li>Functionality:
			<ul>
			<li>Game initialization:
			<ul>
				<li>After New game is choose, game board is initialize - in sequence gems windows change in random its color.</li>
				<li>During initialization user can not start new game or change the board size.</li>
			</ul>
			</li>
			<li>Game play:
			<ul>
				<li>After game initialization, player can click in gem and select it (add 4 px black border) and deselect it clicking again in it.</li>
				<li>When gem is selected player can click in adjacent gem to try swap them.</li>
				<li>If the move is incorrect nothing happen - they do not change place with each others</li>
				<li>When the move is correct and there is now at least three gems in sequence they explode and disappear (change fill pattern to cross).</li>
				<li>Gems from above fill the gap. During this time player can not move - change background of main windows to dark gray.</li>
			</ul>
			</li>
			<li>Particle:
			<ul>
				<li>Create full screen top most transparent window for drawing with GDI particles for explosions. (This windows is not visible in taskbar)</li>
				<li>Divide every exploding window into 100 small rectangles - they have color of gem and they move with constant speed in direction of screen edge.</li>
				<li>When they reach the screen edge they are removed.</li>
				<li>Add to Help menu Debug (F12 shortcut) check item. When it is checked display at the center of top screen edge text with current number of particles.</li>
				<li>Hide particle overlay window when the main window is minimized and show it again when it is restored.</li> 
			</ul>
			</li>
			</ul>
		</li>
		<li>Additional requirements:
			<ul>
				<li>all of the functionality from lab must still working.</li>
				<li>on the taskbar there is only one window</li>
				<li>combination Alt + F4 closes the application</li>
				<li>show system menu when you click Alt + Spacebar, or right-click on a window in the taskbar</li>
				<li>no flickering or blinking and properly repainted windows after moving</li>
				<li>application must work stable - it can not crash after some time</li>
			</ul>
		</li>
		<li>Tips:
			<ul>
				<li>Use double buffering for drawing with GDI.</li>
				<li>Remember about proper memory management - remove all created objects.</li>
			</ul>
		</li>
		<li><i>Note: In all doubtful and untold aspects application should behave like example app.</i></li>
	</ul>
	<ul>
		<li>Scoring:
			<ul>
				<li>Game initialization animation: 2 points</li>
				<li>Selecting and deselecting gems: 1 point</li>
				<li>Game logic (checking user moves and collapsing gems): 2 points</li>
				<li>Overlay window: 2 points</li>
				<li>Drawing particles: 3 points</li>
				<li>Hiding overlay with main window: 1 point</li>
				<li>Debug: 1 point</li>
				<li><i>Note: It is not possible to obtain points for incomplete functionality.</i></li>
			</ul>
		</li>
	</ul>
</body>
</html>